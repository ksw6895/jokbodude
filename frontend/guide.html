<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>JokboDude · Guide</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/styles.css?v=5">
  <style>
    /* Guide-specific layout on top of global styles */
    .guide-container { max-width: 1200px; margin: 0 auto; padding: 2rem; }
    .guide-layout { display: grid; grid-template-columns: 260px 1fr; gap: 1.25rem; align-items: start; }
    .side-nav { position: sticky; top: 96px; align-self: start; background: rgba(17,19,24,0.76); border: 1px solid rgba(255,255,255,0.06); border-radius: 12px; padding: .75rem; }
    .side-nav h3 { font-size: .9rem; color: var(--subtle); padding: .25rem .5rem .5rem; text-transform: uppercase; letter-spacing: .06em; }
    .side-nav a { display: block; color: var(--muted); text-decoration: none; padding: .5rem .6rem; border-radius: 8px; font-weight: 700; }
    .side-nav a:hover { color: var(--text); background: #14171c; }
    .doc-section { scroll-margin-top: 100px; }
    .doc-section .card-header { display: flex; align-items: center; justify-content: space-between; }
    .badge { display:inline-block; background: #0f1115; color:#e8e9ed; border:1px solid var(--border); border-radius:9999px; padding:.2rem .6rem; font-weight:800; font-size:.8rem; margin-right:.4rem; }
    .list { margin-left: 1.25rem; }
    .list li { margin: .4rem 0; }
    .muted { color: var(--muted); }
    .hero-note { color: var(--muted); margin-top: .4rem; }
    @media (max-width: 980px) { .guide-layout { grid-template-columns: 1fr; } .side-nav { position: static; } }
  </style>
  <script>
    function toHTML(items) {
      return items.map(x => `<li>${x}</li>`).join('');
    }
    function setHTML(id, html) {
      const el = document.getElementById(id);
      if (el) el.innerHTML = html;
    }
    const I18N = {
      en: {
        langBtn: '🇺🇸 EN',
        heroTitle: 'User Guide',
        heroSubtitle: 'Master JokboDude in minutes — features, modes, and tips',
        overview_h: 'Overview',
        overview: `JokboDude analyzes your exam PDFs (jokbo) and lecture slides using Google Gemini to connect questions with the most relevant teaching context. The output is a polished PDF that helps you study faster with explanations and relevance cues.`,
        modes_h: 'Modes',
        modes: [
          '<span class="badge">Exam-Centric</span> Upload one or more exam PDFs and lecture slides. For each question, the most related slide(s) and a brief explanation are attached.',
          '<span class="badge">Lecture-Centric</span> Upload slides and exam PDFs. Each slide receives the single most relevant question with a short explanation.',
          '<span class="badge">Partial Jokbo</span> Extract only question regions (and next page if needed) with concise explanations into a compact review PDF.'
        ],
        quick_h: 'Quick Start',
        quick: [
          'Go to Home and select a mode.',
          'Upload PDFs (50MB max per file).',
          'Enable Multi-API if multiple Gemini keys are configured for speed.',
          'Optionally adjust Minimum Relevance (0–110).',
          'Click Start and monitor progress; download results when finished.'
        ],
        perf_h: 'Multi-API & Performance',
        perf: [
          'With multiple API keys, the system parallelizes requests across keys for throughput and resilience.',
          'Large PDFs are split into chunks automatically; progress shows completed/total chunks.',
          'Network hiccups and rate limits are retried; prompt blocks are surfaced immediately with reasons.'
        ],
        outputs_h: 'Outputs',
        outputs: `Results are saved as downloadable PDFs. Exam-Centric groups questions with matched slides and explanations. Lecture-Centric keeps every slide (in order) with the top related question inserted. Partial Jokbo compiles cropped question pages with short explanations for rapid review.`,
        troubleshoot_h: 'Troubleshooting',
        troubleshoot: [
          '<b>Upload too large (413)</b>: Ensure each file is under 50MB.',
          '<b>Stuck at processing</b>: Large files may chunk; give it time or try Multi-API.',
          '<b>Prompt blocked</b>: Safety filters may block certain content; revise files or wording.',
          '<b>Few matches</b>: Lower Minimum Relevance to include more candidates.'
        ],
        privacy_h: 'Privacy & Storage',
        privacy: `Uploaded PDFs are used only to analyze and produce outputs. Temporary analysis artifacts are pruned; generated results are kept for a limited time (configurable via RESULT_RETENTION_HOURS, default ~30 days).`,
        faq_h: 'FAQ',
        faq: [
          '<b>Which model?</b> Gemini 2.5 Flash.',
          '<b>What file types?</b> PDF only (.pdf).',
          '<b>Where are my results?</b> After processing, use the download link presented on the Home page.'
        ],
        footer: 'Built for students. No grades, just growth.'
      },
      ko: {
        langBtn: '🇰🇷 KO',
        heroTitle: '사용 가이드',
        heroSubtitle: '기능·모드·팁을 빠르게 익히세요',
        overview_h: '개요',
        overview: `JokboDude는 Google Gemini를 활용해 족보(기출) PDF와 강의 슬라이드를 분석하고, 각 문제에 가장 관련 있는 학습 컨텍스트를 연결합니다. 해설과 관련성 정보가 포함된 PDF 결과물로 빠르고 정확하게 복습할 수 있습니다.`,
        modes_h: '모드',
        modes: [
          '<span class="badge">Exam-Centric</span> 여러 족보와 강의자료를 올리면, 문제별로 관련 슬라이드와 간단한 해설을 붙여줍니다.',
          '<span class="badge">Lecture-Centric</span> 슬라이드 중심으로 각 슬라이드에 가장 관련 있는 문제 1개와 해설을 추가합니다.',
          '<span class="badge">Partial Jokbo</span> 문제 영역(필요 시 다음 페이지 포함)만 추출해 간결한 해설과 함께 빠른 복습용 PDF로 만듭니다.'
        ],
        quick_h: '빠른 시작',
        quick: [
          '홈에서 원하는 모드를 선택합니다.',
          'PDF를 업로드합니다(파일당 50MB 이하).',
          '여러 Gemini 키가 있다면 Multi-API를 켜 속도를 높입니다.',
          '필요 시 최소 관련성(0–110)을 조정합니다.',
          '시작을 눌러 진행률을 확인하고, 완료되면 결과를 다운로드합니다.'
        ],
        perf_h: 'Multi-API & 성능',
        perf: [
          '여러 API 키가 있으면 키별로 병렬 처리하여 처리량과 안정성을 높입니다.',
          '대용량 PDF는 자동으로 청크 처리되며, 진행률은 완료/총 청크 수로 표시됩니다.',
          '네트워크/할당량 이슈는 재시도하며, 프롬프트 차단은 사유와 함께 즉시 알려줍니다.'
        ],
        outputs_h: '결과물',
        outputs: `Exam-Centric은 문제+관련 슬라이드+해설을 묶어, Lecture-Centric은 모든 슬라이드 순서를 유지한 채 가장 관련 있는 문제를 삽입합니다. Partial Jokbo는 문제 페이지만 잘라 해설과 함께 간결하게 제공합니다.`,
        troubleshoot_h: '문제 해결',
        troubleshoot: [
          '<b>업로드 용량 초과(413)</b>: 파일당 50MB 이하인지 확인하세요.',
          '<b>처리가 멈춘 것 같아요</b>: 큰 파일은 청크 처리됩니다. 잠시 기다리거나 Multi-API를 켜보세요.',
          '<b>프롬프트 차단</b>: 안전 필터에 의해 차단될 수 있습니다. 파일/표현을 조정해 보세요.',
          '<b>매칭이 적어요</b>: 최소 관련성 점수를 낮춰 후보를 늘려보세요.'
        ],
        privacy_h: '개인정보/보관',
        privacy: `업로드한 PDF는 분석과 결과 생성에만 사용됩니다. 임시 산출물은 주기적으로 정리되며, 생성된 결과물은 제한 기간 동안 보관됩니다(환경변수 RESULT_RETENTION_HOURS, 기본 약 30일).`,
        faq_h: 'FAQ',
        faq: [
          '<b>사용 모델?</b> Gemini 2.5 Flash.',
          '<b>지원 형식?</b> PDF만 지원합니다(.pdf).',
          '<b>결과는 어디서 보나요?</b> 처리 완료 후 홈 화면에 다운로드 링크가 나타납니다.'
        ],
        footer: '학생을 위한 도구. 성적보다 성장을.'
      }
    };
    function render(lang) {
      const t = I18N[lang] || I18N.en;
      document.getElementById('langBtn').textContent = t.langBtn;
      setHTML('heroTitle', t.heroTitle);
      setHTML('heroSubtitle', t.heroSubtitle);
      setHTML('overview_h', t.overview_h);
      setHTML('overview_c', t.overview);
      setHTML('modes_h', t.modes_h);
      setHTML('modes_c', `<ul class="list">${toHTML(t.modes)}</ul>`);
      setHTML('quick_h', t.quick_h);
      setHTML('quick_c', `<ol class="list">${toHTML(t.quick)}</ol>`);
      setHTML('perf_h', t.perf_h);
      setHTML('perf_c', `<ul class="list">${toHTML(t.perf)}</ul>`);
      setHTML('outputs_h', t.outputs_h);
      setHTML('outputs_c', t.outputs);
      setHTML('troubleshoot_h', t.troubleshoot_h);
      setHTML('troubleshoot_c', `<ul class="list">${toHTML(t.troubleshoot)}</ul>`);
      setHTML('privacy_h', t.privacy_h);
      setHTML('privacy_c', t.privacy);
      setHTML('faq_h', t.faq_h);
      setHTML('faq_c', `<ul class="list">${toHTML(t.faq)}</ul>`);
      setHTML('footer', t.footer);
      localStorage.setItem('jd_guide_lang', lang);
    }
    document.addEventListener('DOMContentLoaded', () => {
      const saved = localStorage.getItem('jd_guide_lang') || 'ko';
      render(saved);
      document.getElementById('langBtn').addEventListener('click', () => {
        const cur = localStorage.getItem('jd_guide_lang') || 'en';
        render(cur === 'en' ? 'ko' : 'en');
      });
    });
  </script>
  <script>
    // Smooth-scroll for anchor links
    document.addEventListener('click', (e) => {
      const a = e.target.closest('a[href^="#"]');
      if (!a) return;
      const id = a.getAttribute('href').slice(1);
      const target = document.getElementById(id);
      if (target) {
        e.preventDefault();
        target.scrollIntoView({ behavior: 'smooth', block: 'start' });
      }
    });
  </script>
</head>
<body>
  <nav class="navbar">
    <div class="navbar-content">
      <a href="/" class="logo" style="display:flex;align-items:center;gap:.75rem;text-decoration:none;color:var(--text);font-weight:800;">
        <div class="logo-icon">🎓</div>
        <span>JokboDude</span>
      </a>
      <div class="nav-links">
        <a class="nav-link" href="/guide">Guide</a>
        <a class="nav-link" id="my_jobs_link" href="/profile" style="display:none;">My Jobs</a>
        <a class="nav-link" id="feedback_link" href="#" style="display:none;">Feedback</a>
        <button id="langBtn" class="tab" style="padding:.4rem .7rem;">🇺🇸 EN</button>
      </div>
    </div>
  </nav>

  <main class="guide-container">
    <section class="hero-section">
      <h1 class="hero-title" id="heroTitle">User Guide</h1>
      <p class="hero-subtitle" id="heroSubtitle">Master JokboDude in minutes — features, modes, and tips</p>
      <div class="hero-note">This guide mirrors the premium dark UI used on the home page.</div>
    </section>

    <div class="guide-layout">
      <aside class="side-nav">
        <h3>On this page</h3>
        <a href="#overview">Overview</a>
        <a href="#modes">Modes</a>
        <a href="#quick">Quick Start</a>
        <a href="#performance">Multi-API & Performance</a>
        <a href="#outputs">Outputs</a>
        <a href="#troubleshooting">Troubleshooting</a>
        <a href="#privacy">Privacy & Storage</a>
        <a href="#faq">FAQ</a>
      </aside>

      <div class="doc">
        <section id="overview" class="doc-section app-card">
          <div class="card-header">
            <h2 class="card-title" id="overview_h">Overview</h2>
          </div>
          <div class="card-body">
            <div class="muted" id="overview_c"></div>
          </div>
        </section>

        <section id="modes" class="doc-section app-card" style="margin-top:1rem;">
          <div class="card-header">
            <h2 class="card-title" id="modes_h">Modes</h2>
          </div>
          <div class="card-body" id="modes_c"></div>
        </section>

        <section id="quick" class="doc-section app-card" style="margin-top:1rem;">
          <div class="card-header">
            <h2 class="card-title" id="quick_h">Quick Start</h2>
          </div>
          <div class="card-body" id="quick_c"></div>
        </section>

        <section id="performance" class="doc-section app-card" style="margin-top:1rem;">
          <div class="card-header">
            <h2 class="card-title" id="perf_h">Multi-API & Performance</h2>
          </div>
          <div class="card-body" id="perf_c"></div>
        </section>

        <section id="outputs" class="doc-section app-card" style="margin-top:1rem;">
          <div class="card-header">
            <h2 class="card-title" id="outputs_h">Outputs</h2>
          </div>
          <div class="card-body">
            <div class="muted" id="outputs_c"></div>
          </div>
        </section>

        <section id="troubleshooting" class="doc-section app-card" style="margin-top:1rem;">
          <div class="card-header">
            <h2 class="card-title" id="troubleshoot_h">Troubleshooting</h2>
          </div>
          <div class="card-body" id="troubleshoot_c"></div>
        </section>

        <section id="privacy" class="doc-section app-card" style="margin-top:1rem;">
          <div class="card-header">
            <h2 class="card-title" id="privacy_h">Privacy & Storage</h2>
          </div>
          <div class="card-body">
            <div class="muted" id="privacy_c"></div>
          </div>
        </section>

        <section id="faq" class="doc-section app-card" style="margin-top:1rem;">
          <div class="card-header">
            <h2 class="card-title" id="faq_h">FAQ</h2>
          </div>
          <div class="card-body" id="faq_c"></div>
        </section>

        <div class="muted" style="text-align:center;margin:1.25rem 0;" id="footer">Built for students. No grades, just growth.</div>
      </div>
    </div>
  </main>
</body>
</html>
