# 단일 API 키 사용
GEMINI_API_KEY=your_gemini_api_key_here

# 다중 API 키 사용 (Multi-API 모드)
# 쉼표로 구분하여 여러 API 키를 입력할 수 있습니다
# Multi-API 모드를 사용하려면 --multi-api 옵션과 함께 실행하세요
# 예: python main.py --mode jokbo-centric --multi-api
GEMINI_API_KEYS=api_key_1,api_key_2,api_key_3

# PDF 분할 설정 (선택사항)
# 큰 PDF를 처리할 때 한 번에 보낼 최대 페이지 수 (기본값: 40)
MAX_PAGES_PER_CHUNK=30

# 안전 필터 해제 (기본: true)
# true로 설정하면 Google GenAI 안전 임계치(threshold)를 모두 BLOCK_NONE으로 설정하여
# 콘텐츠 차단을 비활성화하려고 시도합니다. 서비스 정책에 따라 일부 차단은 유지될 수 있습니다.
DISABLE_SAFETY_FILTERS=true

# Gemini generate timeout (seconds)
# PDF + JSON generation can exceed 3 minutes. Increase if you see
# 'Generation call timed out after ...s' in worker logs.
# Default in code is 480s; uncomment to override.
# GENAI_GENERATE_TIMEOUT_SECONDS=480

# 파일 스토리지 TTL (초)
# 업로드된 파일이 Redis에서 유지되는 시간. 장시간 대기/처리를 고려해 24h 이상 권장.
# 기본값: 86400 (24시간)
FILE_TTL_SECONDS=86400


# 스토리지 및 정리 설정
# 영속 스토리지 경로 (/tmp 대신 사용). Render에서는 디스크 마운트 경로로 설정하세요 (예: /data/storage)
RENDER_STORAGE_PATH=

# 관리자 비밀번호 (임시파일/디버그/세션 정리 API 보호용)
# 설정되지 않으면 /admin/* 정리 엔드포인트는 비활성화됩니다.
ADMIN_PASSWORD=

# 관리자 구글 이메일 (쉼표로 구분)
# 여기에 지정된 이메일로 Google 로그인하면 관리자 권한을 부여합니다.
# 관리자는 프론트엔드에서 테스터 추가/삭제 및 토큰 관리가 가능합니다.
ADMIN_EMAILS=

# 보존 기간(시간)
# 디버그/로그 보존 (권장 72h)
DEBUG_RETENTION_HOURS=72
# 결과 PDF 보존 (권장 48h)
RESULT_RETENTION_HOURS=48
# RENDER_STORAGE_PATH 전체 보존 (기본 24h; 결과/임시 포함하여 공간 확보)
STORAGE_RETENTION_HOURS=24
# 주기적 정리 간격(분)
PRUNE_INTERVAL_MINUTES=60
# 세션(temp) 보존 (스크립트 기준, 기본 168 = 7일)
SESSIONS_RETENTION_HOURS=168

# --- CBT Auth & Tokens ---
# Google OAuth Client ID (from Google Cloud Console)
GOOGLE_OAUTH_CLIENT_ID=
# Comma-separated tester emails allowed during CBT (leave empty to allow any login)
ALLOWED_TESTERS=
# 프론트엔드에서 관리자가 동적으로 테스터를 추가/삭제할 수 있으며
# ALLOWED_TESTERS 환경변수와 합집합으로 로그인 허용 여부가 결정됩니다.
# Secret to sign session cookies (required)
AUTH_SECRET_KEY=change-me-to-a-long-random-string
# Session cookie lifetime (seconds)
SESSION_EXPIRES_SECONDS=604800
# Allow unverified Google tokens in dev (claims-only validation)
ALLOW_UNVERIFIED_GOOGLE_TOKENS=false
# Allow dev login endpoint guarded by ADMIN_PASSWORD
ALLOW_DEV_LOGIN=false
# Redis URL for token and job storage
REDIS_URL=redis://localhost:6379/0
# Initial token grant on first login
CBT_TOKENS_INITIAL=200
# Per-chunk token costs
FLASH_TOKENS_PER_CHUNK=1
PRO_TOKENS_PER_CHUNK=4
# Optional feedback form URL to display in UI
FEEDBACK_FORM_URL=

# 대용량 임시파일을 영구 볼륨 아래로 유도 (선택)
# Render 등에서는 /data/storage/tmp 권장. 지정하지 않으면 자동으로 output/temp/tmp 하위가 사용됩니다.
TMPDIR=/data/storage/tmp
